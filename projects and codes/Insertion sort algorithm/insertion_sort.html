<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insertion sort algorithm on JS</title>
</head>

<body>
    <script>

        var notSorted = [];             // Неотсортированный массив с уникальными цифрами
        var sortedArray = [];           // Отсортированный массив расположенный по нарастанию

        createArr(notSorted);           // Запускаем функцию генераций неотсортированного массива

        function createArr(emptyArray) {        // Функция генераций
            var max = 300;              // Макс и мин значение диапазона в котором будут наши значения
            var min = 1;

            for (var i = 0; i < 100; i++) {
                var num = Math.round(Math.random() * (max - min) + min);    // parsiInt() does not work for this code. Генерация случайных чисел

                while (emptyArray.indexOf(num) != -1) {                     // Проверка на уникальность в неотсортированном массиве
                    num = Math.round(Math.random() * (max - min) + min);
                }
                emptyArray.push(num);                        // Полученное уникальное число добавляем в неотсортированный массив
            }
        }

        function insertionSort() {                          // Функция сортировки вставками
            var tmp;                            // Пустая переменная для передачи рассматриваемого неотсортированного числа

            for (var i = 0; i < notSorted.length; i++) {       // Обходим весь неотсортированный массив
                tmp = notSorted[i];                 // Начинаем в 0 индекса и передаем сило нашей пустой переменной

                if (i == 0) {                       // 0 индекс вставляем в отсортированный массив сразу, так как проверять не с чем
                    sortedArray[0] = notSorted[0];
                    continue;                       // Завершаем итерацию и переходим к следующей
                }
                for (var k = i; k > 0; k--) {       // В отсортированном массиве проверку делаем с последнего элемента массива. Индекс последнего элемента отсортированного массива равен индексу элемента из неотсортированного, который мы проверяем, то есть к = i
                    if (tmp < sortedArray[k - 1]) {           // Проверка, если проверяемы элемент меньше элемента индексом ниже
                        sortedArray[k] = sortedArray[k - 1];        // Если проверка пройдена на индекс проверяемого элемента вставляем элемент индексом ниже(меняем местами)
                        sortedArray[k - 1] = tmp;                   // На место элемена индексом ниже вставляем проверяемый элемент
                    }
                    else {                          // В других случаях(то есть, если не проверяемый элемент больше или равно)
                        sortedArray[k] = tmp;       // То вставляем на место, которому уже дошли
                        break;                      // Зашепшаем цикл проверки отсортированного массива
                    }
                }
            }
            return sortedArray;
        }
    </script>
</body>

</html>